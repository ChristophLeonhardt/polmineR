<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Toolkit for Corpus Analysis • polmineR</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="jquery.sticky-kit.min.js"></script><script src="pkgdown.js"></script><!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-vignette">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">polmineR</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="/index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/vignette.html">Introducing the 'polmineR'-package</a>
    </li>
  </ul>
</li>
<li>
  <a href="news/index.html">News</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9">
    

    
    
<div class="contents">
<!-- README.md is generated from README.Rmd. Please edit that file -->

<div id="polminer" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#polminer" class="anchor"></a>polmineR</h1></div>
<p><strong>Purpose</strong>: The focus of the package ‘polmineR’ is the interactive analysis of corpora using R. Core objectives for the development of the package are performance, usability, and a modular design.</p>
<p><strong>Aims</strong>: Key aims for developing the package are:</p>
<ul>
<li><p>To keep the original text accessible. A seamless integration of qualitative and quantitative steps in corpus analysis supports validation, based on inspecting the text behind the numbers.</p></li>
<li><p>To provide a library with standard tasks. It is an open source platform that will make text mining more productive, avoiding prohibitive costs to reimplement basics, or to run many lines of code to perform a basic tasks.</p></li>
<li><p>To create a package that makes the creation and analysis of subcorpora (‘partitions’) easy. A particular strength of the package is to support contrastive/comparative research.</p></li>
<li><p>To offer performance for users with an ordinary infrastructure. The package picks up the idea of a three-tier software design. Corpus data are managed and indexed by using the <em>Open Corpus Workbench</em> (CWB). The CWB is particularly efficient for storing large corpora and offers a powerful language for querying corpora, the Corpus Query Processor (CQP).</p></li>
<li><p>To support sharing consolidated and documented data, following the ideas of reproducible research.</p></li>
</ul>
<p><strong>Background</strong>: The polmineR-package was specifically developed to make full use of the XML annotation structure of the corpora created in the PolMine project (see polmine.sowi.uni-due.de). The core PolMine corpora are corpora of plenary protocols. In these corpora, speakers, parties etc. are structurally annotated. The polmineR-package is meant to help making full use of the rich annotation structure.</p>
<div id="core-functions" class="section level2">
<h2 class="hasAnchor">
<a href="#core-functions" class="anchor"></a>Core Functions</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(polmineR)
<span class="co">#&gt; polmineR 0.7.5</span>
<span class="co">#&gt; registry:  /Library/Frameworks/R.framework/Versions/3.4/Resources/library/polmineR.sampleCorpus/extdata/cwb/registry</span>
<span class="co">#&gt; interface: CQI.rcqp</span></code></pre></div>
<div id="install-corpus-and-use-packaged-corpus" class="section level3">
<h3 class="hasAnchor">
<a href="#install-corpus-and-use-packaged-corpus" class="anchor"></a>install.corpus (and use packaged corpus)</h3>
<p>Indexed corpora wrapped into R data packages can be installed from a (private) package repository.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="reference/install.corpus.html">install.corpus</a></span>(<span class="st">"GermaParl"</span>)
<span class="kw"><a href="reference/install.corpus.html">install.corpus</a></span>(<span class="st">"europarl.en"</span>)</code></pre></div>
<p>Calling the use function is necessary activate a corpus included in a data package.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="reference/use.html">use</a></span>(<span class="st">"europarl.en"</span>) <span class="co"># activate the corpus in the europarl-en package</span>
<span class="co">#&gt; ... reseting CORPUS_REGISTRY environment variable:</span>
<span class="co">#&gt;     /Library/Frameworks/R.framework/Versions/3.4/Resources/library/europarl.en/extdata/cwb/registry</span>
<span class="co">#&gt; ... unloading rcqp library</span>
<span class="co">#&gt; ... reloading rcqp library</span>
<span class="co">#&gt; ... status: OK</span></code></pre></div>
<p>An advantage of keeping corpora in data packages are the versioning and documentation mechanisms that are the hallmark of packages. Of course, polmineR will work with the library of CWB indexed corpora stored on your machine. To assist the preparation of corpora, consider the ctk package (corpus toolkit) as a companion package to polmineR.</p>
</div>
<div id="partition-and-partitionbundle" class="section level3">
<h3 class="hasAnchor">
<a href="#partition-and-partitionbundle" class="anchor"></a>partition (and partitionBundle)</h3>
<p>All methods can be applied to a whole corpus, are to partitions (i.e. subcorpora). Use the metadata of a corpus (so-called s-attributes) to define a subcorpus.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">ep2005 &lt;-<span class="st"> </span><span class="kw"><a href="reference/partition.html">partition</a></span>(<span class="st">"EUROPARL-EN"</span>, <span class="dt">text_year =</span> <span class="st">"2006"</span>)
<span class="co">#&gt; Setting up partition</span>
<span class="co">#&gt; ... get encoding: latin1</span>
<span class="co">#&gt; ... get cpos and strucs</span>
<span class="co">#&gt; ... get partition size</span>
<span class="kw"><a href="reference/size-method.html">size</a></span>(ep2005)
<span class="co">#&gt; [1] 3100529</span></code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">barroso &lt;-<span class="st"> </span><span class="kw"><a href="reference/partition.html">partition</a></span>(<span class="st">"EUROPARL-EN"</span>, <span class="dt">speaker_name =</span> <span class="st">"Barroso"</span>, <span class="dt">regex =</span> <span class="ot">TRUE</span>)
<span class="co">#&gt; Setting up partition</span>
<span class="co">#&gt; ... get encoding: latin1</span>
<span class="co">#&gt; ... get cpos and strucs</span>
<span class="co">#&gt; ... get partition size</span>
<span class="kw"><a href="reference/size-method.html">size</a></span>(barroso)
<span class="co">#&gt; [1] 98142</span></code></pre></div>
<p>Partitions can be bundled into partitionBundle objects, and most methods can be applied to a whole corpus, a partition, or a partitionBundle object alike. Consult the package vignette to learn more.</p>
</div>
<div id="count-using-cqp-syntax" class="section level3">
<h3 class="hasAnchor">
<a href="#count-using-cqp-syntax" class="anchor"></a>count (using CQP syntax)</h3>
<p>Counting occurrences of a feature in a corpus, a partition or in the partitions of a partitionBundle is a basic operation. By offering access to the query syntax of the Corpus Query Processor (CQP), the polmineR package makes accessible a query syntax that goes far beyond regular expressions. See the <a href="http://www.ims.uni-stuttgart.de/forschung/projekte/CorpusWorkbench/CQPTutorial/cqp-tutorial.2up.pdf">CQP documentation</a> to learn more.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="reference/count-method.html">count</a></span>(<span class="st">"EUROPARL-EN"</span>, <span class="st">"France"</span>)
<span class="co">#&gt;     query count         freq</span>
<span class="co">#&gt; 1: France  5517 0.0001399122</span>
<span class="kw"><a href="reference/count-method.html">count</a></span>(<span class="st">"EUROPARL-EN"</span>, <span class="kw">c</span>(<span class="st">"France"</span>, <span class="st">"Germany"</span>, <span class="st">"Britain"</span>, <span class="st">"Spain"</span>, <span class="st">"Italy"</span>, <span class="st">"Denmark"</span>, <span class="st">"Poland"</span>))
<span class="co">#&gt;      query count         freq</span>
<span class="co">#&gt; 1:  France  5517 1.399122e-04</span>
<span class="co">#&gt; 2: Germany  4196 1.064114e-04</span>
<span class="co">#&gt; 3: Britain  1708 4.331523e-05</span>
<span class="co">#&gt; 4:   Spain  3378 8.566676e-05</span>
<span class="co">#&gt; 5:   Italy  3209 8.138089e-05</span>
<span class="co">#&gt; 6: Denmark  1615 4.095673e-05</span>
<span class="co">#&gt; 7:  Poland  1820 4.615557e-05</span>
<span class="kw"><a href="reference/count-method.html">count</a></span>(<span class="st">"EUROPARL-EN"</span>, <span class="st">'"[pP]opulism"'</span>)
<span class="co">#&gt;            query count         freq</span>
<span class="co">#&gt; 1: "[pP]opulism"   107 2.713542e-06</span></code></pre></div>
</div>
<div id="dispersion-across-one-or-two-dimensions" class="section level3">
<h3 class="hasAnchor">
<a href="#dispersion-across-one-or-two-dimensions" class="anchor"></a>dispersion (across one or two dimensions)</h3>
<p>The dispersion method is there to analyse the dispersion of a query, or a set of queries across one or two dimensions (absolute and relative frequencies). The CQP syntax can be used.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">populism &lt;-<span class="st"> </span><span class="kw">dispersion</span>(<span class="st">"EUROPARL-EN"</span>, <span class="st">"populism"</span>, <span class="dt">sAttribute =</span> <span class="st">"text_year"</span>, <span class="dt">progress =</span> <span class="ot">FALSE</span>)
popRegex &lt;-<span class="st"> </span><span class="kw">dispersion</span>(<span class="st">"EUROPARL-EN"</span>, <span class="st">'"[pP]opulism"'</span>, <span class="dt">sAttribute =</span> <span class="st">"text_year"</span>, <span class="dt">cqp =</span> <span class="ot">TRUE</span>, <span class="dt">progress =</span> <span class="ot">FALSE</span>)</code></pre></div>
</div>
<div id="cooccurrences-to-analyse-collocations" class="section level3">
<h3 class="hasAnchor">
<a href="#cooccurrences-to-analyse-collocations" class="anchor"></a>cooccurrences (to analyse collocations)</h3>
<p>The cooccurrences method is used to analyse the context of a query (including some statistics).</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">islam &lt;-<span class="st"> </span><span class="kw"><a href="reference/cooccurrences.html">cooccurrences</a></span>(<span class="st">"EUROPARL-EN"</span>, <span class="dt">query =</span> <span class="st">'Islam'</span>, <span class="dt">left =</span> <span class="dv">10</span>, <span class="dt">right =</span> <span class="dv">10</span>)
islam &lt;-<span class="st"> </span><span class="kw">subset</span>(islam, rank_ll <span class="op">&lt;=</span><span class="st"> </span><span class="dv">100</span>)
<span class="kw"><a href="reference/dotplot-method.html">dotplot</a></span>(islam)
islam</code></pre></div>
<p><a href="http://polmine.sowi.uni-due.de/gallery/cooccurrences.png"><img src="http://polmine.sowi.uni-due.de/gallery/cooccurrences.png" alt="cooccurrences()"></a></p>
</div>
<div id="features-keyword-extraction" class="section level3">
<h3 class="hasAnchor">
<a href="#features-keyword-extraction" class="anchor"></a>features (keyword extraction)</h3>
<p>Compare partitions to identify features / keywords (using statistical tests such as chi square).</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">ep2002 &lt;-<span class="st"> </span><span class="kw"><a href="reference/partition.html">partition</a></span>(<span class="st">"EUROPARL-EN"</span>, <span class="dt">text_year =</span> <span class="st">"2002"</span>, <span class="dt">pAttribute =</span> <span class="st">"word"</span>)
epPre911 &lt;-<span class="st"> </span><span class="kw"><a href="reference/partition.html">partition</a></span>(<span class="st">"EUROPARL-EN"</span>, <span class="dt">text_year =</span> <span class="kw">as.character</span>(<span class="dv">1997</span><span class="op">:</span><span class="dv">2001</span>), <span class="dt">pAttribute =</span> <span class="st">"word"</span>)
y &lt;-<span class="st"> </span><span class="kw"><a href="reference/features-method.html">features</a></span>(ep2002, epPre911, <span class="dt">included =</span> <span class="ot">FALSE</span>)</code></pre></div>
</div>
<div id="kwic-also-known-as-concordances" class="section level3">
<h3 class="hasAnchor">
<a href="#kwic-also-known-as-concordances" class="anchor"></a>kwic (also known as concordances)</h3>
<p>So what happens in the context of a word, or a CQP query? To attain valid research results, reading will often be necessary. The kwic method will help, and uses the conveniences of DataTables, outputted in the Viewer pane of RStudio.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="reference/kwic.html">kwic</a></span>(<span class="st">"EUROPARL-EN"</span>, <span class="st">"Islam"</span>, <span class="dt">meta =</span> <span class="kw">c</span>(<span class="st">"text_date"</span>, <span class="st">"speaker_name"</span>))</code></pre></div>
<p><a href="http://polmine.sowi.uni-due.de/gallery/kwic.png"><img src="http://polmine.sowi.uni-due.de/gallery/kwic.png" alt="kwic()"></a></p>
</div>
<div id="read-the-full-text" class="section level3">
<h3 class="hasAnchor">
<a href="#read-the-full-text" class="anchor"></a>read (the full text)</h3>
<p>Corpus analysis involves moving from text to numbers, and back again. Use the read method, to inspect the full text of a partition (a speech given by chancellor Angela Merkel in this case).</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="reference/use.html">use</a></span>(<span class="st">"GermaParl"</span>)
merkel &lt;-<span class="st"> </span><span class="kw"><a href="reference/partition.html">partition</a></span>(<span class="st">"GERMAPARL"</span>, <span class="dt">text_speaker =</span> <span class="st">"Angela Merkel"</span>, <span class="dt">text_date =</span> <span class="st">"2013-09-03"</span>)
<span class="kw"><a href="reference/read-method.html">read</a></span>(merkel)</code></pre></div>
<p><a href="http://polmine.sowi.uni-due.de/gallery/read.png"><img src="http://polmine.sowi.uni-due.de/gallery/read.png" alt="read()"></a></p>
</div>
<div id="as-termdocumentmatrix-for-text-mining-purposes" class="section level3">
<h3 class="hasAnchor">
<a href="#as-termdocumentmatrix-for-text-mining-purposes" class="anchor"></a>as.TermDocumentMatrix (for text mining purposes)</h3>
<p>Many advanced methods in text mining require term document matrices as input. Based on the metadata of a corpus, these data structures can be obtained in a fast and flexible manner, for performing topic modelling, machine learning etc.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="reference/use.html">use</a></span>(<span class="st">"europarl.en"</span>)
speakers &lt;-<span class="st"> </span><span class="kw"><a href="reference/partitionBundle-method.html">partitionBundle</a></span>(
  <span class="st">"EUROPARL-EN"</span>, <span class="dt">sAttribute =</span> <span class="st">"speaker_id"</span>,
  <span class="dt">progress =</span> <span class="ot">FALSE</span>, <span class="dt">verbose =</span> <span class="ot">FALSE</span>
)
speakers &lt;-<span class="st"> </span><span class="kw"><a href="reference/enrich-method.html">enrich</a></span>(speakers, <span class="dt">pAttribute =</span> <span class="st">"word"</span>)
tdm &lt;-<span class="st"> </span><span class="kw"><a href="reference/as.DocumentTermMatrix.html">as.TermDocumentMatrix</a></span>(speakers, <span class="dt">col =</span> <span class="st">"count"</span>)
<span class="kw">dim</span>(tdm)</code></pre></div>
</div>
</div>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<div id="windows-32-bit-i386" class="section level3">
<h3 class="hasAnchor">
<a href="#windows-32-bit-i386" class="anchor"></a>Windows (32 bit / i386)</h3>
<p>At this stage, an easy way to install polmineR is available only for 32bit R. Usually, an R installation will include both 32bit and 64bit R. So if you want to keep things simple, make sure that you work with 32bit version. If you work with RStudio (highly recommended), the menu Tools &gt; Global Options will open a dialogue where you can choose 32bit R.</p>
<p>Before installing polmineR, the package ‘rcqp’ needs to be installed. In turn, rcqp requires plyr, which should be installed first.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">install.packages</span>(<span class="st">"plyr"</span>)</code></pre></div>
<p>To avoid compiling C code in a package, packages with compiled binaries are very handy. Windows binaries for the rcqp package are not available at CRAN, but can be installed from a repository of packages entertained at the server of the PolMine project:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">install.packages</span>(<span class="st">"rcqp"</span>, <span class="dt">repos =</span> <span class="st">"http://polmine.sowi.uni-due.de/packages"</span>, <span class="dt">type =</span> <span class="st">"win.binary"</span>)</code></pre></div>
<p>To explain: Compiling the C code in the rcqp package on a windows machine is not yet possible. The package we offer uses a cross-compilation of these C libraries, i.e. binaries that have been prepared for windows on a MacOS/Linux machine.</p>
<p>Before proceeding to install polmineR, we install dependencies that are not installed automatically.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">install.packages</span>(<span class="dt">pkgs =</span> <span class="kw">c</span>(<span class="st">"htmltools"</span>, <span class="st">"htmlwidgets"</span>, <span class="st">"magrittr"</span>, <span class="st">"iterators"</span>, <span class="st">"NLP"</span>))</code></pre></div>
<p>The latest stable version of polmineR can now be installed from CRAN. Several other packages that polmineR depends on, or that dependencies depend on may be installed automatically.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">install.packages</span>(<span class="st">"polmineR"</span>)</code></pre></div>
<p>The development version of the package, which may include the most recent updates and features, can be installed from GitHub. The easiest way to do this is to use a mechanism offered by the package devtools.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">install.packages</span>(<span class="st">"devtools"</span>)
devtools<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/devtools/topics/install_github">install_github</a></span>(<span class="st">"PolMine/polmineR"</span>, <span class="dt">ref =</span> <span class="st">"dev"</span>)</code></pre></div>
<p>The installation may throw warnings. There are three warnings you can ignore at this stage:</p>
<ul>
<li>“WARNING: this package has a configure script / It probably needs manual configuration”.</li>
<li>The environment variable CORPUS_REGISTRY is not defined.</li>
<li>package ‘rcqp’ is not installed for ‘arch = x64’.</li>
</ul>
<p>The configure script is for Linux/MacOS installation, its sole purpose is to pass tests for uploading the package to CRAN. As mentioned, windows binaries are not yet available for 64bit R at present, so that can be ignored. The environment variable “CORPUS_REGISTRY” can be set as follows in R:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">Sys.setenv</span>(<span class="dt">CORPUS_REGISTRY =</span> <span class="st">"C:/PATH/TO/YOUR/REGISTRY"</span>)</code></pre></div>
<p>To set the environment variable CORPUS_REGISTRY permanently, see the instructions R offer how to find the file ‘.Renviron’ or ‘.Renviron.site’ when calling the help for the startup process(<code>?Startup</code>).</p>
<p>Two important notes concerning problems with the CORPUS_REGISTRY environment variable that may cause serious headaches:</p>
<ul>
<li><p>The path can not be processed, if there is any whitespace in the path pointing to the registry. Whitespace may occur in the user name (“C:/Users/Donald Duck/Documents”), for instance. We do not yet know any workaround to make rcqp/CWB process whitespace. The recommendation is to create a directory at a path without whitespace to keep the registry and the indexed_corpora (a directory such as “C:/cwb”).</p></li>
<li><p>If you keep data on another volume than your system files, your R packages etc. (eg. volume ‘C:’ for system files, and ‘D:’ for data and user files), make sure to set the working directory (<code>setwd()</code>) is set to any directory on the volume with the directory defined via CORPUS_REGISTRY. CWB/rcqp will assume that the CORPUS_REGISTRY directory is on the same volume as the current working directory (which can be identified by calling <code>getwd()</code>).</p></li>
</ul>
<p>Finally: polmineR if optimized for working with RStudio. It you work with 32bit R, you may have to check in the settings of RStudio that it will call 32bit R. To be sure, check the startup message.</p>
<p>If everything works, check whether polmineR can be loaded.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(polmineR)
<span class="kw"><a href="reference/corpus-method.html">corpus</a></span>() <span class="co"># to see corpora available at your system</span></code></pre></div>
</div>
<div id="windows-64-bit-x86" class="section level3">
<h3 class="hasAnchor">
<a href="#windows-64-bit-x86" class="anchor"></a>Windows (64 bit / x86)</h3>
<p>At this stage, 64 bit support is still experimental. Apart from an installation of 64 bit R, you will need to install Rtools, available <a href="https://cran.r-project.org/bin/windows/Rtools/">here</a>. Rtools is a collection of tools necessary to build and compile R packages on a Windows machine.</p>
<p>To interface to a core C library of the Corpus Workbench (CWB), you will need an installation of a 64 bit AND a 32 bit version of the CWB.</p>
<p>The “official” 32 bit version of the CWB is available <a href="https://sourceforge.net/projects/cwb/files/cwb/cwb-3.4-beta/">here</a>. Installation instructions are available at the <a href="http://cwb.sourceforge.net/beta.php">CWB Website</a>. The 32 bit version should be installed in the directory “C:Files”, with admin rights.</p>
<p>The 64 bit version, prepared by Andreas Blaette, is available <a href="http://polmine.sowi.uni-due.de/public/?dir=CWB">here</a>. Install this 64 bit CWB version to “C:Files (x86)”. In the unzipped downloaded zip file, you will find a bat file that will do the installation. Take care that you run the file with administrator rights. Without these rights, no files will be copied.</p>
<p>The interface to the Corpus Workbench is the package polmineR.Rcpp, <a href="https://www.github.com/PolMine/polminer.Rcpp">available at GitHub</a>. If you use git, you can clone that repository, otherwise, you can download a zip file.</p>
<p>The downloaded zip file needs to be unzipped again. Then, in the directory with the ‘polmineR.Rcpp’-directory, run:</p>
<div class="sourceCode"><pre class="sourceCode sh"><code class="sourceCode bash"><span class="ex">R</span> CMD build polmineR.Rcpp
<span class="ex">R</span> CMD INSTALL polmineR.Rcpp_0.1.0.tar.gz</code></pre></div>
<p>If you read closely what is going on during the compilation, you will see a few warnings that libraries are not found. If creating the package is not aborted, nothing is wrong. R CMD build will look for the 64 bit files in the directory with the 32 bit dlls first and discover that they do not work for 64 bit, only then will it move to the correct location.</p>
<p>One polmineR.Rcpp is installed, proceed with the instructions for installing polmineR in a 32 bit context. Future binary releases of the polmineR.Rcpp package may make things easier. Anyway, the proof of concept is there that polmineR will work on a 64 bit Windows machine too.</p>
<p>Finally, you need to make sure that polmineR will interface to CWB indexed corpora using polmineR.Rcpp, and not with rcqp (the default). To set the interface accordingly:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">setCorpusWorkbenchInterface</span>(<span class="st">"Rcpp"</span>)</code></pre></div>
<p>To test whether corpora are available:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="reference/corpus-method.html">corpus</a></span>()</code></pre></div>
</div>
<div id="macos" class="section level3">
<h3 class="hasAnchor">
<a href="#macos" class="anchor"></a>MacOS</h3>
<p>The following instructions for Mac users assume that R is installed on your system. Binaries are available from the <a href="https://cran.r-project.org/bin/macosx/">Homepage of the R Project</a>. An installation of RStudio is highly recommended. The Open Source License version of <a href="https://www.rstudio.com/products/rstudio/download/">RStudio Desktop</a> is what you need.</p>
<div id="installing-polminer" class="section level4">
<h4 class="hasAnchor">
<a href="#installing-polminer" class="anchor"></a>Installing ‘polmineR’</h4>
<p>The latest release of polmineR can be installed from CRAN using the usual <code>install.packages</code>-function.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">install.packages</span>(<span class="st">"polmineR"</span>)</code></pre></div>
<p>The development version of <em>polmineR</em> can be installed using devtools:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">install.packages</span>(<span class="st">"devtools"</span>) <span class="co"># unless devtools is already installed</span>
devtools<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/devtools/topics/install_github">install_github</a></span>(<span class="st">"PolMine/polmineR"</span>, <span class="dt">ref =</span> <span class="st">"dev"</span>)</code></pre></div>
</div>
<div id="installing-rcqp" class="section level4">
<h4 class="hasAnchor">
<a href="#installing-rcqp" class="anchor"></a>Installing ‘rcqp’</h4>
<p>The default interface of the polmineR package to access CWB indexed corpora is the package ‘rcqp’. Accessing corpora will not work before you have installed the interface.</p>
<div id="installing-precompiled-binary-of-rcqp-from-the-polmine-server" class="section level5">
<h5 class="hasAnchor">
<a href="#installing-precompiled-binary-of-rcqp-from-the-polmine-server" class="anchor"></a>Installing precompiled binary of rcqp from the PolMine server</h5>
<p>The easiest way to get rcqp for Mac is install a precompiled binary that is available at the PolMine server:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">install.packages</span>(
  <span class="st">"rcqp"</span>,
  <span class="dt">repos =</span> <span class="st">"http://polmine.sowi.uni-due.de/packages"</span>,
  <span class="dt">type =</span> <span class="st">"mac.binary"</span>
  )</code></pre></div>
</div>
<div id="building-rcqp-from-source" class="section level5">
<h5 class="hasAnchor">
<a href="#building-rcqp-from-source" class="anchor"></a>Building rcqp from source</h5>
<p>If you want to get rcqp from CRAN and/or if you want to to compile the C code yourself, the procedure is as follows.</p>
<p>First, you will need an installation of Xcode, which you can get it via the Mac App Store. You will also need the Command Line Tools for Xcode. It can be installed from a terminal with:</p>
<div class="sourceCode"><pre class="sourceCode sh"><code class="sourceCode bash"><span class="ex">xcode-select</span> --install</code></pre></div>
<p>To compile the C code in the rcqp package, there are system requirements that need to be fulfilled. Using a package manager such as Homebrew or Macports makes things considerably easier.</p>
<p><em>Option 1: Using Homebrew</em></p>
<p>We recommend to use ‘Homebrew’. To install Homebrew, follow the instructions on the <a href="https://brew.sh/index_de.html">Homebrew Homepage</a>. The following commands will install the C libraries the rcqp package relies on:</p>
<div class="sourceCode"><pre class="sourceCode sh"><code class="sourceCode bash"><span class="ex">brew</span> -v install pkg-config
<span class="ex">brew</span> -v install glib --universal
<span class="ex">brew</span> -v install pcre --universal
<span class="ex">brew</span> -v install readline</code></pre></div>
<p><em>Option 2: Using Macports</em></p>
<p>If you prefer using Macports, get it from <a href="https://www.macports.org/" class="uri">https://www.macports.org/</a>. After installing Macports, it is necessary to restart the computer. Next, an update of Macports is necessary.</p>
<div class="sourceCode"><pre class="sourceCode sh"><code class="sourceCode bash"><span class="fu">sudo</span> port -v selfupdate</code></pre></div>
<p>Now we can install the libraries rcqp will require. Again, from the terminal.</p>
<div class="sourceCode"><pre class="sourceCode sh"><code class="sourceCode bash"><span class="fu">sudo</span> port install glib2
<span class="fu">sudo</span> port install pkgconfig
<span class="fu">sudo</span> port install pcre</code></pre></div>
<p><em>Install dependencies and rcqp</em></p>
<p>Once the system requirements are there, the next steps can be done from R. Before installing rcqp, and then polmineR, we install a few packages. In the R console:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">install.packages</span>(<span class="dt">pkgs =</span> <span class="kw">c</span>(<span class="st">"RUnit"</span>, <span class="st">"devtools"</span>, <span class="st">"plyr"</span>, <span class="st">"tm"</span>))</code></pre></div>
<p>Now rcqp can be installed, and then polmineR:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">install.packages</span>(<span class="st">"rcqp"</span>)
<span class="kw">install.packages</span>(<span class="st">"polmineR"</span>)</code></pre></div>
<p>If you like to work with the development version, that can be installed from GitHub.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">devtools<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/devtools/topics/install_github">install_github</a></span>(<span class="st">"PolMine/polmineR"</span>, <span class="dt">ref =</span> <span class="st">"dev"</span>)</code></pre></div>
</div>
</div>
</div>
<div id="linux" class="section level3">
<h3 class="hasAnchor">
<a href="#linux" class="anchor"></a>Linux</h3>
<p>The pcre, glib and pkg-config libraries can be installed using apt-get.</p>
<div class="sourceCode"><pre class="sourceCode sh"><code class="sourceCode bash"><span class="fu">sudo</span> apt-get install libglib2.0-dev
<span class="fu">sudo</span> apt-get install libssl-dev
<span class="fu">sudo</span> apt-get install libcurl4-openssl-dev</code></pre></div>
<p>The system requirements will now be fulfilled. From R, install dependencies for rcqp/polmineR first, and then rcqp and polmineR.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">install.packages</span>(<span class="st">"RUnit"</span>, <span class="st">"devtools"</span>, <span class="st">"plyr"</span>, <span class="st">"tm"</span>)
<span class="kw">install.packages</span>(<span class="st">"rcqp"</span>)
<span class="kw">install.packages</span>(<span class="st">"polmineR"</span>)</code></pre></div>
</div>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2 class="hasAnchor">
<a href="#sidebar" class="anchor"></a>Links</h2>
<ul class="list-unstyled">
<li>Browse source code at <br><a href="https://www.github.com/PolMine/polmineR">https://​www.github.com/​PolMine/​polmineR</a>
</li>
<li>Report a bug at <br><a href="https://github.com/PolMine/polmineR/issues">https://​github.com/​PolMine/​polmineR/​issues</a>
</li>
</ul>
<h2>License</h2>
<p><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></p>
<h2>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html">Citing polmineR</a></li>
</ul>
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Andreas Blaette Developer <br><small class="roles"> Author, maintainer </small> </li>
</ul>
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="http://www.gnu.org/licenses/gpl-3.0.html"><img src="https://img.shields.io/aur/license/yaourt.svg" alt="License"></a></li>
<li><a href="https://cran.r-project.org/package=polmineR"><img src="http://www.r-pkg.org/badges/version/polmineR" alt="CRAN_Status_Badge"></a></li>
<li><a href="https://cran.r-project.org/package=polmineR"><img src="http://cranlogs.r-pkg.org/badges/polmineR" alt="Downloads"></a></li>
<li><a href="https://travis-ci.org/PolMine/polmineR"><img src="https://api.travis-ci.org/PolMine/polmineR.svg?branch=master" alt="Travis-CI Build Status"></a></li>
<li><a href="https://codecov.io/gh/PolMine/polmineR/branch/master"><img src="https://codecov.io/gh/PolMine/polmineR/branch/master/graph/badge.svg" alt="codecov"></a></li>
</ul>
</div>

</div>


      <footer><div class="copyright">
  <p>Developed by Andreas Blaette Developer.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  </body>
</html>
